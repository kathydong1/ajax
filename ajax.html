<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>
	<body>
	</body>

 <script type="text/javascript">
 	/*   
 	 * 	ajax交互模型（实现原理，实现机制） --数据模型是字符串
		
		打电话机制:
			1.买部手机
			
			2.输入电话号码
			
			3.拨号
			
			4.等待对方接电话
			
			5.通话
			
			
	json :
			'[]'
			'{}'
			
			{}对象
			[]数组对象
			
		只是一种获取动态数据的一种技术手段 --> 获取数据的方法
     post:
			通过send发送前端数据给后端。
			相对安全（关于用户的信息会用post或传文件的时候）
			体积理论上来说是无限大。（但是后端会做限制）
			在send前设置一个setRequestHeader()
			
			
			
		
	get：
			通过浏览器的url来发送数据给后端。
			相对来说就不安全（只要不跟用户信息打交道或者在数据一定范围都可以使用get）
			体积就受浏览器的限制。（不同浏览器有不同的限制）
			不用设置请求头。
			在IE浏览器下中文会被解析为URL编码格式，容易出问题，所以建议只要val值会出现中文就用encodeURI()转一下
			
     
 	 *JQ写法： 
 	 * $.ajax({
 	 	*   dataType:'json'/'string'/'jsonp';
 	 	*   method:'post'/'get'---默认是get；
 	 	*   
			url:'后端接口地址',
			data:{
				拼接的字段:需要拼接的数据（前端传给后端的数据）
			},
			//当服务器处理完之后返回的结果。
			success:function(data){//回调。date是请求成功后返回的PHP返回值
				console.log(data);
			}
		})
		
	 原生写法：
	 post:
	     txt.onblur=function(){
	     	var ajax=new XMLHttpRequest；
	     	ajax.open('post','php/post.php');//此处的？是浏览器格式规定；
	     	ajax.setRequestHeader("Content-Type","application/x-www-form-urlencoded");
	     	ajax.send('user='+user.value);
		    ajax.onload = function(){
			    span.innerHTML = ajax.responseText;	
		   }
	     }
	     
	  get:
	       txt.onblur=function(){
	     	var ajax=new XMLHttpRequest；
	     	ajax.open('get','php/post.php?url='+encodeURI(txt.value));//此处的？是浏览器格式规定；
	     	ajax.send('user='+user.value);
		    ajax.onload = function(){
			    span.innerHTML = ajax.responseText;	
		   }
	     }
		* 
		*
	兼容低版本浏览器的onload：
	1. 请求了但是没成功
		ajax.status就是专门用查看HTTP状态码值的。
		状态码：
			1,2,3,4,5字开头的
			2字代表成功
				200 - 207
			3字头重定向
				www.baidu.com/app   (娱乐节目)	
				www.baidu.com/appP 	
			4字开头就是出错（请求错误）
				404	
			5字开头就是服务器的问题
                成功的范围：
			status >= 200 && status < 300 || status === 304
		
		
		2.IE9以下浏览器是不会触发onload的。
			在所有的浏览器都支持onreadystatechange
			当服务器进行响应的时候，每完成一个步骤就会触发这个事件。
		            从发送到服务器处理完成一共有5个步骤
		            每个步骤都是用数字来表示。
		
		0-4   ajax.readyState
		
		只不过0是监控不到的。
		
		不管它进行到几，只要到了数字4说明服务器接收并响应就绪。
		
		
		XMLHttpRequest 对象的三个重要的属性：
		    1.监听事件
				onreadystatechange
			2.执行的步骤
				ajax.readyState
			3.状态码
				ajax.status
				

	   
		1.eval:
		 让字符串能够执行js代码 
		2.new Function
		var data = new Function('','return'+obj)();
		* 
		* */
		
 </script>
</html>
